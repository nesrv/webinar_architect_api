## ‚öîÔ∏è **TCP vs UDP** 

| ‚öôÔ∏è –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞  | üß± **TCP**                                | üöÄ **UDP**                                 |
| ------------------ | ----------------------------------------- | ------------------------------------------ |
| –¢–∏–ø –ø—Ä–æ—Ç–æ–∫–æ–ª–∞      | **–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π**            | **–ë–µ–∑ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**                         |
| –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å         | ‚úÖ –ù–∞–¥—ë–∂–Ω—ã–π: –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É, –ø–æ—Ä—è–¥–æ–∫ | ‚ùå –ù–µ–Ω–∞–¥—ë–∂–Ω—ã–π: "–æ—Ç–ø—Ä–∞–≤–∏–ª –∏ –∑–∞–±—ã–ª"           |
| –û—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å        | ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –ø–∞–∫–µ—Ç–æ–≤               | ‚ùå –ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω                  |
| –ü–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ | ‚úÖ –î–∞ ‚Äî —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è                       | ‚ùå –ù–µ—Ç ‚Äî –ø–æ—Ç–µ—Ä—è–Ω, –∏ –ª–∞–¥–Ω–æ                   |
| –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞    | ‚úÖ –ï—Å—Ç—å                                    | ‚ùå –ù–µ—Ç                                      |
| –ü—Ä–æ—Ç–æ–∫–æ–ª —É—Ä–æ–≤–Ω—è    | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π                              | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π                               |
| –°–∫–æ—Ä–æ—Å—Ç—å           | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ                   | –ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–æ–∂–µ—Ç "—Å—ã–ø–∞—Ç—å—Å—è"               |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤     | HTTP/1.1, HTTP/2, FTP, SSH, TLS           | DNS, –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ —Å—Ç—Ä–∏–º—ã, VoIP, –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä—ã |

---

## üß† –ö–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç:

### üí¨ TCP:

> **"–ó–≤–æ–Ω–æ–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É ‚Äî –µ—Å–ª–∏ –Ω–µ –¥–æ–∑–≤–æ–Ω–∏–ª—Å—è, –ø—Ä–æ–±—É–µ—à—å –µ—â—ë."**
> –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–æ–π–¥—ë—Ç, –∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ú–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ.

### üí¨ UDP:

> **"–í—ã—Å—Ç—Ä–µ–ª –∏–∑ –ø—É—à–∫–∏ –≤ —Å—Ç–µ–Ω—É: –ø–æ–ø–∞–ª ‚Äî —Ö–æ—Ä–æ—à–æ, –Ω–µ—Ç ‚Äî —Å–ª–µ–¥—É—é—â–∏–π."**
> –ù–µ –ø–∞—Ä–∏—Ç—Å—è. –ì–ª–∞–≤–Ω–æ–µ ‚Äî **—Å–∫–æ—Ä–æ—Å—Ç—å**, –Ω–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.

---

## üîå –ü—Ä–∏–º–µ—Ä—ã –≤ –∂–∏–∑–Ω–∏:

| –ü—Ä–∏–º–µ—Ä             | –ü—Ä–æ—Ç–æ–∫–æ–ª                                   |
| ------------------ | ------------------------------------------ |
| –ó–∞–≥—Ä—É–∂–∞–µ—à—å —Å–∞–π—Ç    | TCP (—á–µ—Ä–µ–∑ HTTP/1.1 –∏–ª–∏ HTTP/2)            |
| –ò–≥—Ä–∞–µ—à—å –≤ CS\:GO   | UDP (–Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤–∞–∂–Ω–µ–µ)               |
| –°–º–æ—Ç—Ä–∏—à—å YouTube   | UDP (—á–µ—Ä–µ–∑ QUIC = HTTP/3)                  |
| –ó–∞–ø—É—Å–∫–∞–µ—à—å SSH/FTP | TCP                                        |
| –ü–∏–Ω–≥ —á–µ—Ä–µ–∑ `ping`  | ICMP (–Ω–µ TCP/UDP, –Ω–æ –ø–æ—Ö–æ–∂ –Ω–∞ UDP –ø–æ –¥—É—Ö—É) |
| DNS-–∑–∞–ø—Ä–æ—Å         | UDP (–∏ fallback –Ω–∞ TCP –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö)        |

---

## üì¶ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (Python)

### TCP (–Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)

```python
import socket

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # TCP
s.connect(("example.com", 80))
s.send(b"GET / HTTP/1.1\r\nHost: example.com\r\n\r\n")
data = s.recv(1024)
print(data)
s.close()
```

### UDP (–Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)

```python
import socket

s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  # UDP
s.sendto(b"ping", ("127.0.0.1", 9999))
data, addr = s.recvfrom(1024)
print("–û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:", data)
s.close()
```

---

## ü§î –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

| –•–æ—á–µ—à—å...                      | –í—ã–±–∏—Ä–∞–π    |
| ------------------------------ | ---------- |
| –¢–æ—á–Ω–æ—Å—Ç—å, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å | TCP        |
| –°–∫–æ—Ä–æ—Å—Ç—å, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ | UDP        |
| –ü–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ, –≥–µ–π–º–∏–Ω–≥, VoIP | UDP        |
| Web, API, —Ñ–∞–π–ª–æ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã   | TCP        |
| HTTP/3                         | QUIC (UDP) |

---


**–†–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã UDP –∏ TCP-—Å–µ—Ä–≤–µ—Ä–æ–≤** –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `asyncio` –∏ `aiohttp`.

---

## üåê **TCP-—Å–µ—Ä–≤–µ—Ä (–Ω–∞ `aiohttp`)**

–≠—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ–π **HTTP-—Å–µ—Ä–≤–µ—Ä** (–Ω–∞ –±–∞–∑–µ TCP), –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç REST-–∑–∞–ø—Ä–æ—Å:

```python
# tcp_server.py
from aiohttp import web

async def handle(request):
    return web.json_response({"message": "Hello from TCP (HTTP)"})

app = web.Application()
app.router.add_get("/", handle)

if __name__ == "__main__":
    web.run_app(app, port=8080)  # –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ TCP/HTTP
```

üîß –ó–∞–ø—É—Å—Ç–∏ –∏ –∑–∞—Ö–æ–¥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
[http://localhost:8080](http://localhost:8080)

---

## üì° **UDP-—Å–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç (–Ω–∞ `asyncio`)**

UDP-—Å–µ—Ä–≤–µ—Ä –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç "ping" –∏ –æ—Ç–≤–µ—á–∞–µ—Ç "pong":

### ‚úÖ UDP-—Å–µ—Ä–≤–µ—Ä:

```python
# udp_server.py
import asyncio

class UDPServerProtocol:
    def connection_made(self, transport):
        self.transport = transport
        print("UDP-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω")

    def datagram_received(self, data, addr):
        message = data.decode()
        print(f"–ü–æ–ª—É—á–µ–Ω–æ –æ—Ç {addr}: {message}")

        if message.lower() == "ping":
            self.transport.sendto(b"pong", addr)

async def main():
    loop = asyncio.get_running_loop()
    transport, _ = await loop.create_datagram_endpoint(
        lambda: UDPServerProtocol(),
        local_addr=("0.0.0.0", 9999)
    )

    try:
        await asyncio.sleep(3600)  # —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å
    finally:
        transport.close()

asyncio.run(main())
```

### ‚úÖ UDP-–∫–ª–∏–µ–Ω—Ç:

```python
# udp_client.py
import asyncio

async def send_ping():
    message = "ping"
    print(f"–û—Ç–ø—Ä–∞–≤–∫–∞: {message}")

    loop = asyncio.get_running_loop()
    transport, protocol = await loop.create_datagram_endpoint(
        lambda: asyncio.DatagramProtocol(),
        remote_addr=("127.0.0.1", 9999)
    )

    transport.sendto(message.encode())

    try:
        data, _ = await loop.sock_recvfrom(transport.get_extra_info('socket'), 1024)
        print(f"–û—Ç–≤–µ—Ç: {data.decode()}")
    except Exception as e:
        print("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è:", e)

    transport.close()

asyncio.run(send_ping())
```

---

## üîç –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

1. –û—Ç–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –∑–∞–ø—É—Å—Ç–∏ UDP-—Å–µ—Ä–≤–µ—Ä:

   ```bash
   python udp_server.py
   ```

2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏ UDP-–∫–ª–∏–µ–Ω—Ç:

   ```bash
   python udp_client.py
   ```

–¢—ã —É–≤–∏–¥–∏—à—å:

```
–û—Ç–ø—Ä–∞–≤–∫–∞: ping
–û—Ç–≤–µ—Ç: pong
```

---

## üìå –†–µ–∑—é–º–µ:

* `aiohttp` ‚Üí TCP/HTTP-—Å–µ—Ä–≤–µ—Ä —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º API
* `asyncio` + socket ‚Üí raw UDP –æ–±—â–µ–Ω–∏–µ



–í—ã–±–æ—Ä –º–µ–∂–¥—É `aiohttp` –∏ —á–∏—Å—Ç—ã–º `asyncio` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TCP/HTTP –∏ UDP –≤ Python –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —Ä–∞–∑–ª–∏—á–∏—è–º–∏ –≤ —É—Ä–æ–≤–Ω—è—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —ç—Ç–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.  

### **1. TCP/HTTP —Å `aiohttp`**
- **–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è**:  
  `aiohttp` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP –ø–æ–≤–µ—Ä—Ö TCP.  
  - –ö–ª–∏–µ–Ω—Ç: `aiohttp.ClientSession` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤.  
  - –°–µ—Ä–≤–µ—Ä: `aiohttp.web` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.  

- **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞**:  
  HTTP ‚Äî —ç—Ç–æ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫—É–∫–∏, —Å–µ—Å—Å–∏–∏, SSL –∏ —Ç. –¥.), –∏ `aiohttp` –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è –≤—Å—é —Ä—É—Ç–∏–Ω—É.  
  –ü–∏—Å–∞—Ç—å HTTP-—Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç –Ω–∞ —á–∏—Å—Ç–æ–º `asyncio` (—á–µ—Ä–µ–∑ `asyncio.StreamReader`/`StreamWriter`) –±—ã–ª–æ –±—ã –¥–æ–ª–≥–æ –∏ —Å–ª–æ–∂–Ω–æ.  

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ HTTP**:  
  `aiohttp` –≤–∫–ª—é—á–∞–µ—Ç –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∫—É WebSocket, JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –¥—Ä—É–≥–∏–µ —Ñ–∏—á–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤–µ–±–∞.  

### **2. UDP —Å `asyncio`**
- **–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞**:  
  UDP ‚Äî –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –î–ª—è –Ω–µ–≥–æ –Ω–µ –Ω—É–∂–Ω—ã –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–∞–∫ –≤ HTTP.  
  `asyncio` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:  
  ```python
  # –ö–ª–∏–µ–Ω—Ç
  transport, protocol = await loop.create_datagram_endpoint(...)
  
  # –°–µ—Ä–≤–µ—Ä
  await loop.create_datagram_endpoint(..., local_addr=('0.0.0.0', 9999))
  ```  

- **–ì–∏–±–∫–æ—Å—Ç—å**:  
  UDP —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á (DNS, VoIP, –∏–≥—Ä—ã), –≥–¥–µ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–∞–∫–µ—Ç–∞–º–∏.  
  `aiohttp` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç UDP, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å HTTP.  

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:  
  –î–ª—è UDP –∫—Ä–∏—Ç–∏—á–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞, –∞ –Ω–µ —É–¥–æ–±—Å—Ç–≤–æ. –ß–∏—Å—Ç—ã–π `asyncio` –¥–∞—ë—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.  

### **–í—ã–≤–æ–¥**
- **TCP/HTTP ‚Üí `aiohttp`**: –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å HTTP.  
- **UDP ‚Üí `asyncio`**: –ø–æ—Ç–æ–º—É —á—Ç–æ UDP –ø—Ä–æ—Å—Ç –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ `asyncio` –¥–∞—ë—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–æ–∫–µ—Ç–∞–º.  

–ï—Å–ª–∏ –±—ã –≤—ã –∑–∞—Ö–æ—Ç–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å TCP –±–µ–∑ HTTP (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–≤–æ–µ–≥–æ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞), —Ç–æ —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±—ã `asyncio` (—á–µ—Ä–µ–∑ `create_connection` –∏–ª–∏ `StreamReader`/`StreamWriter`).