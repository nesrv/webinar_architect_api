# Игра "Угадай число" на JSON-RPC API

Это простая игра, в которой сервер загадывает число, а клиент пытается его угадать. Игра демонстрирует использование JSON-RPC для создания интерактивного игрового API.

## Особенности игры

- **Три уровня сложности**: легкий (1-50), нормальный (1-100) и сложный (1-200)
- **Система подсказок**: чем больше попыток сделано, тем более точные подсказки
- **Сохранение истории попыток** и статистики игры
- **Возможность сдаться** и узнать загаданное число
- **Поддержка нескольких игровых сессий** одновременно

## Запуск игры

1. Установите необходимые библиотеки:
   ```bash
   pip install aiohttp jsonrpcserver requests
   ```

2. Запустите сервер:
   ```bash
   python guess_number_server.py
   ```

3. В другом терминале запустите клиент:
   ```bash
   python guess_number_client.py
   ```

## Методы JSON-RPC API

### 1. Начало игры

```json
{
  "jsonrpc": "2.0",
  "method": "start_game",
  "params": {
    "difficulty": "normal"
  },
  "id": 1
}
```

**Параметры:**
- `difficulty`: уровень сложности ("easy", "normal", "hard")

**Ответ:**
```json
{
  "jsonrpc": "2.0",
  "result": {
    "game_id": "game_1",
    "message": "Новая игра создана! Угадайте число от 1 до 100.",
    "difficulty": "normal"
  },
  "id": 1
}
```

### 2. Попытка угадать число

```json
{
  "jsonrpc": "2.0",
  "method": "guess",
  "params": {
    "game_id": "game_1",
    "number": 42
  },
  "id": 1
}
```

**Параметры:**
- `game_id`: идентификатор игры
- `number`: предполагаемое число

**Ответ (если число меньше):**
```json
{
  "jsonrpc": "2.0",
  "result": {
    "message": "Загаданное число больше",
    "attempts": 1
  },
  "id": 1
}
```

### 3. Получение подсказки

```json
{
  "jsonrpc": "2.0",
  "method": "get_hint",
  "params": {
    "game_id": "game_1"
  },
  "id": 1
}
```

**Параметры:**
- `game_id`: идентификатор игры

**Ответ:**
```json
{
  "jsonrpc": "2.0",
  "result": {
    "hint": "Число четное и не делится на 5",
    "attempts": 3
  },
  "id": 1
}
```

### 4. Сдаться

```json
{
  "jsonrpc": "2.0",
  "method": "give_up",
  "params": {
    "game_id": "game_1"
  },
  "id": 1
}
```

**Параметры:**
- `game_id`: идентификатор игры

**Ответ:**
```json
{
  "jsonrpc": "2.0",
  "result": {
    "message": "Вы сдались. Загаданное число было 73.",
    "attempts": 5,
    "status": "lost"
  },
  "id": 1
}
```

### 5. Статистика игры

```json
{
  "jsonrpc": "2.0",
  "method": "game_stats",
  "params": {
    "game_id": "game_1"
  },
  "id": 1
}
```

**Параметры:**
- `game_id`: идентификатор игры

**Ответ:**
```json
{
  "jsonrpc": "2.0",
  "result": {
    "attempts": 5,
    "status": "active",
    "history": [10, 30, 50, 70, 60],
    "max_number": 100,
    "secret_number": "???"
  },
  "id": 1
}
```

## Преимущества использования JSON-RPC для игры

1. **Простота реализации** - единый эндпоинт для всех игровых действий
2. **Удобство добавления новых методов** - легко расширять функциональность
3. **Состояние игры хранится на сервере** - клиент только отправляет команды
4. **Возможность создания разных клиентов** - консольный, веб, мобильный
5. **Низкие накладные расходы** - компактные запросы и ответы

## Возможные улучшения

- Добавление таблицы рекордов
- Многопользовательский режим
- Система достижений
- Ограничение по времени
- Более сложные правила игры