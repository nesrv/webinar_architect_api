###  –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API ‚Äì gRPC**  

---

## **1. –í–≤–µ–¥–µ–Ω–∏–µ **  
### **1.1 –ß—Ç–æ —Ç–∞–∫–æ–µ gRPC?**  
- **gRPC** (Google Remote Procedure Call) ‚Äì —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö RPC-–≤—ã–∑–æ–≤–æ–≤.  
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Protocol Buffers** (–±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).  
  - –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö **HTTP/2** (–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞).  
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **4 —Ç–∏–ø–∞ –≤—ã–∑–æ–≤–æ–≤**: —É–Ω–∞—Ä–Ω—ã–π, —Å–µ—Ä–≤–µ—Ä–Ω—ã–π/–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–æ—Ç–æ–∫, –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫.  

### **1.2 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å REST/GraphQL**  
| **–ö—Ä–∏—Ç–µ—Ä–∏–π**       | **REST/GraphQL**          | **gRPC**                     |
|--------------------|--------------------------|-----------------------------|
| **–ü—Ä–æ—Ç–æ–∫–æ–ª**       | HTTP/1.1, —Ç–µ–∫—Å—Ç–æ–≤—ã–π (JSON) | HTTP/2, –±–∏–Ω–∞—Ä–Ω—ã–π (Protobuf) |
| **–°–∫–æ—Ä–æ—Å—Ç—å**       | –°—Ä–µ–¥–Ω—è—è                  | –í—ã—Å–æ–∫–∞—è (–¥–æ 10x –±—ã—Å—Ç—Ä–µ–µ)    |
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è**      | –°–ª–∞–±–∞—è (JSON)            | –°—Ç—Ä–æ–≥–∞—è (—Å—Ö–µ–º–∞ .proto)      |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤** | –ù–µ—Ç                     | –î–∞                          |

### **1.3 –ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å gRPC?**  
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** (–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞).  
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** (—á–∞—Ç—ã, –∏–≥—Ä—ã).  
- **–Ø–∑—ã–∫–æ–≤–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ API** (Go, Python, Java –∏ –¥—Ä.).  

---

## **2. –ü—Ä–∞–∫—Ç–∏–∫–∞: –°–æ–∑–¥–∞–Ω–∏–µ gRPC-—Å–µ—Ä–≤–∏—Å–∞ **  
### **–ó–∞–¥–∞–Ω–∏–µ: –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ (TodoList)**  
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**  
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á.  
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö (stream).  

#### **–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**  
```bash
pip install grpcio grpcio-tools
```

#### **–®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API –≤ `.proto`-—Ñ–∞–π–ª–µ**  
–§–∞–π–ª `todo.proto`:  
```protobuf
syntax = "proto3";

service TodoService {
  rpc AddTask (TaskRequest) returns (TaskResponse);          // –£–Ω–∞—Ä–Ω—ã–π RPC
  rpc GetTasks (GetTasksRequest) returns (stream TaskResponse); // –°–µ—Ä–≤–µ—Ä–Ω—ã–π –ø–æ—Ç–æ–∫
}

message TaskRequest {
  string title = 1;
  string description = 2;
}

message TaskResponse {
  int32 id = 1;
  string title = 2;
  string description = 3;
  bool completed = 4;
}

message GetTasksRequest {}
```

#### **–®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–∑ `.proto`**  
```bash
python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. todo.proto
```  
–°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã: `todo_pb2.py` (–º–æ–¥–µ–ª–∏) –∏ `todo_pb2_grpc.py` (—Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç).  

#### **–®–∞–≥ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞**  
–§–∞–π–ª `server.py`:  
```python
from concurrent import futures
import grpc
import todo_pb2
import todo_pb2_grpc

class TodoService(todo_pb2_grpc.TodoServiceServicer):
    def __init__(self):
        self.tasks = []
        self.next_id = 1

    def AddTask(self, request, context):
        task = todo_pb2.TaskResponse(
            id=self.next_id,
            title=request.title,
            description=request.description,
            completed=False
        )
        self.tasks.append(task)
        self.next_id += 1
        return task

    def GetTasks(self, request, context):
        for task in self.tasks:
            yield task  # –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ –ø–æ—Ç–æ–∫

def serve():
    server = grpc.server(futures.ThreadPoolExecutor(max_workers=10))
    todo_pb2_grpc.add_TodoServiceServicer_to_server(TodoService(), server)
    server.add_insecure_port('[::]:50051')
    server.start()
    print("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 50051")
    server.wait_for_termination()

if __name__ == '__main__':
    serve()
```

#### **–®–∞–≥ 5: –ö–ª–∏–µ–Ω—Ç**  
–§–∞–π–ª `client.py`:  
```python
import grpc
import todo_pb2
import todo_pb2_grpc

def run():
    channel = grpc.insecure_channel('localhost:50051')
    stub = todo_pb2_grpc.TodoServiceStub(channel)

    # –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á—É
    response = stub.AddTask(todo_pb2.TaskRequest(
        title="–ò–∑—É—á–∏—Ç—å gRPC",
        description="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ"
    ))
    print(f"–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–∞—á–∞: {response.title} (ID: {response.id})")

    # –ü–æ–ª—É—á–∞–µ–º –∑–∞–¥–∞—á–∏ (–ø–æ—Ç–æ–∫)
    print("\n–í—Å–µ –∑–∞–¥–∞—á–∏:")
    for task in stub.GetTasks(todo_pb2.GetTasksRequest()):
        print(f"- {task.title} (–í—ã–ø–æ–ª–Ω–µ–Ω–æ: {task.completed})")

if __name__ == '__main__':
    run()
```

---

## **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã (5 –º–∏–Ω—É—Ç)**  
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:  
   ```bash
   python server.py
   ```  
2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç:  
   ```bash
   python client.py
   ```  
   **–í—ã–≤–æ–¥:**  
   ```
   –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–∞—á–∞: –ò–∑—É—á–∏—Ç—å gRPC (ID: 1)
   –í—Å–µ –∑–∞–¥–∞—á–∏:
   - –ò–∑—É—á–∏—Ç—å gRPC (–í—ã–ø–æ–ª–Ω–µ–Ω–æ: False)
   ```

---

## **4. –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã gRPC**  
### **‚úÖ –ü–ª—é—Å—ã:**  
- **–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** (–±–∏–Ω–∞—Ä–Ω—ã–π Protobuf + HTTP/2).  
- **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** (–∞–≤—Ç–æ–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö).  
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤** (—á–∞—Ç—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏).  

### **‚ùå –ú–∏–Ω—É—Å—ã:**  
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏** (–±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).  
- **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö** (—Ç—Ä–µ–±—É–µ—Ç—Å—è gRPC-Web).  

---

## **5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è**  
1. **–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ `CompleteTask`** –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫** –¥–ª—è —á–∞—Ç–∞ –∑–∞–¥–∞—á.  
3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ë–î** (SQLite/PostgreSQL).  

---

## **6. –ò—Ç–æ–≥–∏**  
- gRPC –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è **–≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤** –∏ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**.  
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ gRPC, –∫–æ–≥–¥–∞:**  
  - –ù—É–∂–Ω–∞ –Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞.  
  - –ï—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º (–Ω–µ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤).  

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**  
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç gRPC](https://grpc.io/)  
- [gRPC Python Examples](https://github.com/grpc/grpc/tree/master/examples/python)  

üöÄ **–ì–æ—Ç–æ–≤–æ!** –í—ã —Å–æ–∑–¥–∞–ª–∏ gRPC-—Å–µ—Ä–≤–∏—Å –Ω–∞ Python.